<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>MarketShare</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>

<body>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

	<script>

		const marketingShare = {
			publish: "2021/12/31",
			version: "1.0",
			titles: ["排名", "公司名稱", "國別", "市佔率"],
			data: [
				{ Ranking: 1, Name: "台積電", Country: "台灣", Ratio: 53.1 },
				{ Ranking: 2, Name: "三星電子", Country: "韓國", Ratio: 17.3 },
				{ Ranking: 3, Name: "聯電", Country: "台灣", Ratio: 7.2 },
				{ Ranking: 4, Name: "格羅方德", Country: "美國", Ratio: 6.1 },
				{ Ranking: 5, Name: "中芯國際", Country: "中國", Ratio: 5.3 },
				{ Ranking: 6, Name: "華虹半導體", Country: "中國", Ratio: 2.6 },
				{ Ranking: 7, Name: "力積電", Country: "台灣", Ratio: 1.8 },
				{ Ranking: 8, Name: "世界先進", Country: "台灣", Ratio: 1.4 },
				{ Ranking: 9, Name: "高塔半導體", Country: "以色列", Ratio: 1.4 },
				{ Ranking: 10, Name: "東部高科", Country: "南韓", Ratio: 1 }
			]
		};

		// console.log('----- for of -----') // 迭代出值
		// for (let x of marketingShare.data){
		// 	console.log(x.Name)
		// }

		// console.log('----- foeach -----') // 迭代出值
		// marketingShare.data.forEach((item) => {
		// 	console.log(item.Name)
		// })

		// console.log('----- for in -----') // 迭代出索引
		// for (let x in marketingShare.data){
		// 	console.log(marketingShare.data[x].Name)
		// }

		window.onload = () => {
			createTable()
			createThead()
			createTbody()
			cssSetting()
		}

		let table

		function createTable(){
			table = document.createElement('table')
			document.body.append(table)
		}
		
		function createThead() {
			const thead = document.createElement('thead')
			let tr = document.createElement('tr')
			for (let i of marketingShare.titles) {
				const th = document.createElement('th')
				console.log(i)
				th.innerText = i
				console.log(th)
				tr.append(th)
			}
			thead.append(tr)
			table.append(thead)
		}

		function createTbody(){
			const tbody = document.createElement('tbody')
			marketingShare.data.forEach(singleRowofData => {
				let tr = document.createElement('tr')
				for(singleData of Object.values(singleRowofData)){
					let td = document.createElement('td')
					// console.log(singleData)
					td.innerText = singleData
					// console.log(td)
					tr.append(td)
				}
				tbody.append(tr)
			})
			table.append(tbody)
		}

		function cssSetting(){
			const table = document.querySelector('table')
			table.classList.add('table', 'text-center',  "table-bordered", 'w-50', 'mx-auto', 'mt-5')
			const thead = document.querySelector('thead')
			thead.classList.add("table-dark")
			const tbodyTrs = document.querySelectorAll('tbody tr')
			for(let singleTbodyTr of tbodyTrs){
				singleTbodyTr.classList.add("table-light")
			}
		}

	</script>
</body>

</html>